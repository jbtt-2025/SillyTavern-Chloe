<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="robots" content="noindex, nofollow">
    <title>注册 - 云酒馆</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
    <link rel="stylesheet" href="css/st-tailwind.css">
    <link rel="stylesheet" href="css/oauth.css">
    <link href="webfonts/NotoSans/stylesheet.css" rel="stylesheet">
    <link href="webfonts/NotoSansMono/stylesheet.css" rel="stylesheet">
    <!-- Pixel Font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=DotGothic16&display=swap" rel="stylesheet">
</head>
<body class="pixel-bg">
    <!-- Pixel Grid Background -->
    <div class="pixel-grid"></div>

    <!-- Animated Particles -->
    <div id="particles"></div>

    <div id="app" class="app-container">
        <!-- Glitch Effect Container -->
        <div class="glitch-container">
            <!-- Main Card -->
            <div class="pixel-card register-card">
                <!-- Logo Section -->
                <div class="logo-container">
                    <div class="pixel-border-box">
                        <img id="logo" src="img/chloe-logo.jpg" alt="Chloe" class="pixel-logo" onerror="this.onerror=null;this.src='https://youke1.picui.cn/s1/2025/11/12/6913ee77e6f20.jpg'" />
                    </div>
                    <div class="scanline"></div>
                </div>

                <!-- Back Button -->
                <div class="back-button-container">
                    <a href="/oauth.html" class="pixel-back-button">
                        <span class="button-content">
                            <span class="button-icon">◄</span>
                            <span class="button-text">返回</span>
                        </span>
                    </a>
                </div>

                <!-- Title Section -->
                <div class="title-section">
                    <h1 class="pixel-title" data-text="邀请码注册">
                        <span class="glitch-text">邀请码注册</span>
                    </h1>
                    <div class="subtitle-container">
                        <span class="pixel-badge">REGISTER</span>
                        <span class="pixel-divider">█</span>
                        <span class="status-indicator">
                            <span class="blink">●</span> 创建新账户
                        </span>
                    </div>
                    <p class="pixel-description">
                        ▸ 使用邀请码注册并加入云酒馆
                    </p>
                </div>

                <!-- Form Section -->
                <div class="buttons-section">
                    <div class="register-form-container">
                        <div class="form-field">
                            <label class="field-label">
                                <span class="label-icon">▸</span>
                                <span class="label-text">邀请码</span>
                            </label>
                            <input id="inviteCode" type="text" class="pixel-input" placeholder="请输入邀请码" autocomplete="off">
                        </div>

                        <div class="form-field">
                            <label class="field-label">
                                <span class="label-icon">▸</span>
                                <span class="label-text">用户名</span>
                            </label>
                            <input id="regHandle" type="text" class="pixel-input" placeholder="字母开头，3-64位" autocomplete="username">
                            <div class="field-hint">仅限字母、数字、下划线(_)和连字符(-)</div>
                        </div>

                        <div class="form-field">
                            <label class="field-label">
                                <span class="label-icon">▸</span>
                                <span class="label-text">密码</span>
                            </label>
                            <input id="regPassword" type="password" class="pixel-input" placeholder="至少6位字符" autocomplete="new-password">
                        </div>

                        <div class="form-field">
                            <label class="field-label">
                                <span class="label-icon">▸</span>
                                <span class="label-text">确认密码</span>
                            </label>
                            <input id="regPassword2" type="password" class="pixel-input" placeholder="再次输入密码" autocomplete="new-password">
                        </div>

                        <div id="regError" class="error-message hidden"></div>

                        <button id="regSubmit" class="pixel-button primary">
                            <span class="button-corners"></span>
                            <span class="button-content">
                                <span class="button-icon">▸</span>
                                <span class="button-text">创建账户并登录</span>
                            </span>
                            <span class="button-hover-effect"></span>
                        </button>
                    </div>
                </div>

                <!-- Footer -->
                <div class="pixel-footer">
                    <div class="footer-line"></div>
                    <p class="footer-text">
                        <span class="blink-slow">▐</span>
                        云酒馆共享平台 - CHLOE
                        <span class="blink-slow">▌</span>
                    </p>
                    <div class="github-footer">
                        <a href="https://github.com/2830897438/SillyTavern-Chloe" target="_blank" rel="noopener noreferrer" class="github-link">
                            <svg class="github-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                            </svg>
                            <span class="github-text">支持公益，请为我点一个 Star 吧</span>
                            <span class="github-arrow">→</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Corner Decorations -->
            <div class="corner-decoration top-left">┏</div>
            <div class="corner-decoration top-right">┓</div>
            <div class="corner-decoration bottom-left">┗</div>
            <div class="corner-decoration bottom-right">┛</div>
        </div>
    </div>

    <!-- Custom styles for register page scrolling -->
    <style>
        /* Override the default no-scroll behavior for register page */
        html,
        body {
            overflow-y: auto !important;
            height: auto !important;
            min-height: 100vh;
        }

        body {
            overflow-x: hidden;
        }

        .app-container {
            overflow: visible !important;
            min-height: 100vh;
            height: auto;
            padding: 40px 10px;
        }

        .glitch-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        .pixel-card {
            max-height: none !important;
        }

        /* Adjust back button position for scrollable page */
        .back-button-container {
            position: fixed !important;
            top: 20px;
            left: 20px;
            z-index: 100;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Mobile adjustments */
        @media (max-width: 576px) {
            .app-container {
                padding: 60px 10px 20px;
            }

            .back-button-container {
                top: 12px;
                left: 12px;
            }
        }
    </style>

    <!-- Motion One (UMD) for animations -->
    <script src="https://cdn.jsdelivr.net/npm/motion@10.16.4/dist/motion.umd.js"></script>
    <script type="module" src="/scripts/register.js"></script>
</body>
</html>
